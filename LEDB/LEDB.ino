const int ledCount = 6; // the number of LEDs in the bar graph


int ledPins[] = { 2, 3, 4, 5, 6, 7, 13};


#define fsr_pin A0

#include<Wire.h>


#include<SPI.h>


#include<Adafruit_GFX.h>


#include<Adafruit_SSD1306.h>
#define OLED_MOSI 11
#define OLED_CLK 12
#define OLED_DC 9
#define OLED_CS 8
#define OLED_RESET 10

Adafruit_SSD1306 display(OLED_MOSI, OLED_CLK, OLED_DC, OLED_RESET, OLED_CS);

static const unsigned char PROGMEM Logo3[] = {
  B00000000, B00000000, B00000000, B00000000, B00000000, B00000000, B00000000, B00000000, 
  B00000000, B00000000, B00000000, B00001111, B10000000, B00000000, B00000000, B00000000, 
  B00000000, B00000000, B00000001, B11111111, B11111100, B00000000, B00000000, B00000000, 
  B00000000, B00000001, B11110011, B11111111, B11111110, B01111100, B00000000, B00000000, 
  B00000000, B00000001, B11111011, B11111100, B11111111, B01111100, B00000000, B00000000, 
  B00000000, B00000001, B11111011, B11110000, B01111110, B01111100, B00000000, B00000000, 
  B00000000, B00000001, B11011000, B11111101, B11111100, B11011100, B00000000, B00000000, 
  B00000000, B00000000, B11101110, B01111111, B11110011, B10111100, B00000000, B00000000, 
  B00000000, B00000000, B11110011, B00011111, B11100110, B01111100, B00000000, B00000000, 
  B00000000, B00000000, B11111001, B11001111, B10001100, B11111000, B00000000, B00000000, 
  B00000000, B00000000, B11101110, B11100111, B00011011, B10111000, B00000000, B00000000, 
  B00000000, B00000000, B11110011, B01101000, B00110110, B01111000, B00000000, B00000000, 
  B00000000, B00000000, B01111101, B11101101, B10111100, B11110000, B00000000, B00000000, 
  B00000000, B00000000, B00111110, B01111111, B10110011, B11100000, B00000000, B00000000, 
  B00000000, B00000000, B00001111, B10110111, B10110111, B10000000, B00000000, B00000000, 
  B00000000, B00000000, B01100111, B11110111, B01111111, B00110000, B00000000, B00000000, 
  B00000000, B00000000, B01110001, B11100111, B00111100, B01110000, B00000000, B00000000, 
  B00000000, B00000000, B01111000, B00000111, B00000000, B01110000, B00000000, B00000000, 
  B00000000, B00000000, B00111000, B00000111, B00000000, B01110000, B00000000, B00000000, 
  B00000000, B00000000, B00111100, B00110111, B01100001, B11110000, B00000000, B00000000, 
  B00000000, B00000000, B00111110, B01110111, B01110011, B11110000, B00000000, B00000000, 
  B00000000, B00000000, B00111110, B11110111, B01111011, B11110000, B00000000, B00000000, 
  B00000000, B00000000, B00111110, B11110111, B01111011, B11100000, B00000000, B00000000, 
  B00000000, B00000000, B00111110, B11110110, B01111011, B11100000, B00000000, B00000000, 
  B00000000, B00000000, B00111110, B11110000, B01111011, B11100000, B00000000, B00000000, 
  B00000000, B00000000, B00111110, B11111111, B11111011, B11100000, B00000000, B00000000, 
  B00000000, B00000000, B00011110, B11111111, B11111011, B11000000, B00000000, B00000000, 
  B00000000, B00000000, B00000110, B11100000, B00111011, B00000000, B00000000, B00000000, 
  B00000000, B00000000, B00000010, B11101111, B00111010, B00000000, B00000000, B00000000, 
  B00000000, B00000000, B00000000, B11001111, B10111000, B00000000, B00000000, B00000000, 
  B00000000, B00000000, B00000000, B00011111, B10000000, B00000000, B00000000, B00000000, 
  B00000000, B00000000, B00000000, B00000000, B00000000, B00000000, B00000000, B00000000, 
  };

static const unsigned char PROGMEM Logo2[]={
  B00000000, B00000000, B00000000, B00000000, 
  B00000000, B10011111, B11100010, B00000000, 
  B00000000, B11011100, B01111110, B00000000, 
  B00000000, B10101111, B11101110, B00000000, 
  B00000000, B11010011, B10101110, B00000000, 
  B00000000, B11111000, B01010110, B00000000, 
  B00000000, B01101111, B01011100, B00000000, 
  B00000000, B00111111, B01110000, B00000000, 
  B00000000, B01000011, B00001100, B00000000, 
  B00000000, B01100011, B00001100, B00000000, 
  B00000000, B01111111, B01011100, B00000000, 
  B00000000, B01111101, B01011100, B00000000, 
  B00000000, B01111100, B11011000, B00000000, 
  B00000000, B00111100, B01011000, B00000000, 
  B00000000, B00001011, B01000000, B00000000, 
  B00000000, B00000011, B00000000, B00000000, 
  };

static const unsigned char PROGMEM Logo1[]={
  B00000001, B10000000, 
  B00001110, B11100000, 
  B00001101, B01100000, 
  B00000111, B11100000, 
  B00001001, B00100000, 
  B00001111, B11100000, 
  B00000110, B11100000, 
  B00000001, B00000000, 
};



void setup(){


Serial.begin(9600);


display.begin(SSD1306_SWITCHCAPVCC);


for (int thisLed = 0; thisLed < ledCount; thisLed++) {


pinMode(ledPins[thisLed], OUTPUT);


}


}




void loop()


{


int fsr_value = analogRead(fsr_pin); // 讀取FSR


int led_value = map(fsr_value, 0, 1023, 0, 6); // 從0~1023映射到0~10
if(led_value == 0){
display.clearDisplay();
display.drawBitmap(23,0,Logo1,16,8,WHITE);
display.display();
}

if(led_value == 2){
display.clearDisplay();
display.drawBitmap(23,0,Logo2,32,16,WHITE);
display.display();
}

if(led_value == 5){
display.clearDisplay();
display.drawBitmap(23,0,Logo3,64,32,WHITE);
display.display();
}

for (int thisLed = 0; thisLed < ledCount;
thisLed++) {


if (thisLed < led_value) {
digitalWrite(ledPins[thisLed], HIGH);
}

else {
digitalWrite(ledPins[thisLed], LOW);
}




}





}
